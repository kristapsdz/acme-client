.Dd $Mdocdate: May 13 2016 $
.Dt LETSKENCRYPT 1
.Os
.Sh NAME
.Nm letskencrypt
.Nd refesh letsencrypt certificates
.\" .Sh LIBRARY
.\" For sections 2, 3, and 9 only.
.\" Not used in OpenBSD.
.Sh SYNOPSIS
.Nm letskencrypt
.Op Fl vn
.Op Fl C Ar challengedir
.Op Fl c Ar certdir
.Op Fl f Ar accountkey
.Op Fl k Ar domainkey
.Ar domain
.Op Ar altnames...
.Sh DESCRIPTION
The
.Nm
utility authorises the letsencrypt record
.Ar domain
and any of its alternate names
.Ar altnames .
It must be run as root.
By default, it uses
.Pa /var/www/letsencrypt
for responding to challenges,
.Pa /etc/ssl/letsencrypt
for the public certificate directory,
.Pa /etc/ssl/letsencrypt/private
for the private key directory, and
.Pa /etc/letsencrypt/privkey.pem
for the account private key.
Its arguments are as follows:
.Bl -tag -width Ds
.It Fl v
Verbose operation.
Specify twice to also show communication transfers.
.It Fl n
Create a new account key.
This will fail if a file already exists in the account key's place.
.It Fl C Ar challengedir
Where to register challenges.
See
.Sx Challenges
for details.
.It Fl c ar certdir
Where to put public certificates.
See
.Sx Certificates
for details.
.It Fl f Ar accountkey
The account private key.
This was either made with a previous letsencrypt client or with
.Fl n .
.It Fl k Ar domainkey
The private key for the domain.
.It Ar domain
The domain name.
The only difference between this and the
.Ar altnames
is that it's put into the certificate's
.Li CN
field.
.It Ar altnames
Alternative names
.Pq Dq SAN
for the domain name.
The number of SAN entries is limited by letsencrypt to 100 or so.
.El
.
.Ss Challenges
.Ss Certificates
.\" .Sh CONTEXT
.\" For section 9 functions only.
.\" .Sh IMPLEMENTATION NOTES
.\" Not used in OpenBSD.
.\" .Sh RETURN VALUES
.\" For sections 2, 3, and 9 function return values only.
.\" .Sh ENVIRONMENT
.\" For sections 1, 6, 7, and 8 only.
.\" .Sh FILES
.\" .Sh EXIT STATUS
.\" For sections 1, 6, and 8 only.
.\" .Sh EXAMPLES
.\" .Sh DIAGNOSTICS
.\" For sections 1, 4, 6, 7, 8, and 9 printf/stderr messages only.
.\" .Sh ERRORS
.\" For sections 2, 3, 4, and 9 errno settings only.
.\" .Sh SEE ALSO
.\" .Xr foobar 1
.\" .Sh STANDARDS
.\" .Sh HISTORY
.\" .Sh AUTHORS
.\" .Sh CAVEATS
.\" .Sh BUGS
.\" .Sh SECURITY CONSIDERATIONS
.\" Not used in OpenBSD.
